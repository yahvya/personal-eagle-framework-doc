<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF" data-resizable-sidebar="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-09T09:31:05.0952418"><title>Base de donn&eacute;es | Sabo Framework</title><script type="application/json" id="virtual-toc-data">[{"id":"configuration-de-la-base-de-donn-es","level":0,"title":"Configuration de la base de données","anchor":"#configuration-de-la-base-de-donn-es"},{"id":"les-models","level":0,"title":"Les models","anchor":"#les-models"},{"id":"les-attributs-de-description","level":0,"title":"Les attributs de description","anchor":"#les-attributs-de-description"},{"id":"les-conditions-d-affectation","level":0,"title":"Les conditions d\u0027affectation","anchor":"#les-conditions-d-affectation"},{"id":"les-utilitaires-de-formatage-de-donn-es","level":0,"title":"Les utilitaires de formatage de données","anchor":"#les-utilitaires-de-formatage-de-donn-es"},{"id":"les-types-personnalis-s","level":0,"title":"Les types personnalisés","anchor":"#les-types-personnalis-s"},{"id":"les-hooks","level":0,"title":"Les hooks","anchor":"#les-hooks"},{"id":"les-m-thodes-par-d-faut","level":0,"title":"Les méthodes par défaut","anchor":"#les-m-thodes-par-d-faut"},{"id":"g-n-rer-le-sql-de-cr-ation-d-un-model","level":0,"title":"Générer le SQL de création d\u0027un model","anchor":"#g-n-rer-le-sql-de-cr-ation-d-un-model"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/x-icon" sizes="16x16" href="images/sabo-icon.ico"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Base de donn&eacute;es | Sabo Framework"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Sabo Framework Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/database-description.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Base de donn&eacute;es | Sabo Framework"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/database-description.html#webpage",
    "url": "writerside-documentation/database-description.html",
    "name": "Base de donn&eacute;es | Sabo Framework",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Sabo Framework Help"
}</script><!-- End Schema.org --></head><body data-id="database_description" data-main-title="Base de données" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="starter-topic.md|Framework Sabo"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Sabo Framework  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="database_description" id="database_description.md">Base de données</h1><aside class="prompt" data-type="tip" data-title="" id="-r8neit_3"><p id="-r8neit_13">Le framework embarque un mini ORM permettant l'interaction avec la base de donn&eacute;es. Le syst&egrave;me par d&eacute;faut int&eacute;gr&eacute; se base sur MYSQL, mais la structure est fa&icirc;tes de mani&egrave;re &agrave; pouvoir impl&eacute;menter un syst&egrave;me personnalis&eacute;.</p></aside><section class="chapter"><h2 id="configuration-de-la-base-de-donn-es" data-toc="configuration-de-la-base-de-donn-es">Configuration de la base de donn&eacute;es</h2><p id="-r8neit_14">La configuration de la base de donn&eacute;es se base sur le fichier d'environnement <code class="code" id="-r8neit_16">src/configs/env.php</code> au niveau de <code class="code" id="-r8neit_17">// configuration de la base de donn&eacute;es</code>.</p><ul class="list _bullet" id="-r8neit_15"><li class="list__item" id="-r8neit_18"><p id="-r8neit_21">Mettre le bool&eacute;en d'initialisation &agrave; <code class="code" id="-r8neit_22">true</code>, permet de sp&eacute;cifier &agrave; l'&eacute;tape de routing de lancer la gestion de la base de donn&eacute;es</p></li><li class="list__item" id="-r8neit_19"><p id="-r8neit_23">Sp&eacute;cifier le provider, une class qui extends de <code class="code" id="-r8neit_24">SaboCore\Database\Default\Provider\DatabaseProvider</code> (par d&eacute;faut <code class="code" id="-r8neit_25">MysqlProvider</code>) permet d'avoir une class pouvant se charger d'initialiser les outils requis.</p></li><li class="list__item" id="-r8neit_20"><p id="-r8neit_26">Sp&eacute;cifier les donn&eacute;es de connexion</p></li></ul></section><section class="chapter"><h2 id="les-models" data-toc="les-models">Les models</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_27"><p id="-r8neit_30">Un model dans le contexte de <span class="emphasis" id="-r8neit_31">sabo</span> est une class permettant de repr&eacute;senter sous forme de code PHP une table / une vue de la base de donn&eacute;es. Cette description passe via une <a href="#les-attributs-de-description" id="-r8neit_32" data-tooltip="TableName attribut associé à la class permettant de spécifier le nom de la table représentée">liste d'attributs</a>.</p></aside><p id="-r8neit_28">Les models sont charg&eacute;s par d&eacute;faut dans le dossier <code class="code" id="-r8neit_33">src/models</code> et extends de la class <code class="code" id="-r8neit_34">CustomModel</code> servant d'interm&eacute;diaire avec le framework.</p><p id="-r8neit_29">Cette class permet &eacute;galement de d&eacute;finir des m&eacute;thodes personnalis&eacute;es pour les models.</p></section><section class="chapter"><h2 id="les-attributs-de-description" data-toc="les-attributs-de-description">Les attributs de description</h2><aside class="prompt" data-type="note" data-title="" id="-r8neit_35"><p>Ces attributs servent &agrave; d&eacute;crire les diff&eacute;rents &eacute;l&eacute;ments de la class, afin de les associer &agrave; la base de donn&eacute;es et se situent dans le namespace <code class="code" id="-r8neit_38">SaboCore\Database\Default\Attributes</code></p></aside><ul class="list _bullet" id="-r8neit_36"><li class="list__item" id="-r8neit_39"><p id="-r8neit_43"><code class="code" id="-r8neit_44">TableName</code> attribut associ&eacute; &agrave; la class permettant de sp&eacute;cifier le nom de la table repr&eacute;sent&eacute;e</p></li><li class="list__item" id="-r8neit_40"><p id="-r8neit_45"><code class="code" id="-r8neit_47">Binary|Bool|Char|Decimal|Enum|Int|Json|Text|TinyInt|VarBinary|Varchar</code> avec comme suffixe <code class="code" id="-r8neit_48">Column</code>. Ces types permettent de mapper les diff&eacute;rentes colonnes possibles sur un type <code class="code" id="-r8neit_49">Mysql</code>. <span class="emphasis" id="-r8neit_50">R&eacute;f&eacute;rez-vous aux param&egrave;tres et commentaires de ces fonctions</span></p><div class="code-block" data-lang="php">
  use SaboCore\Database\Default\Attributes\VarcharColumn; 
  #[VarcharColumn(columnName: &quot;user_name&quot;,maxLen: 255,)]
  protected string $username;
</div></li><li class="list__item" id="-r8neit_41"><p id="-r8neit_51"><code class="code" id="-r8neit_54">TimestampColumn</code> ce type sp&eacute;cial du framework (bien qu'existant sur MYSQL) sert de passage pour toutes donn&eacute;es de temps (datetime, time ...) via timestamp. Le type associ&eacute; derri&egrave;re est un <code class="code" id="-r8neit_55">INT</code>. Un &eacute;l&eacute;ment portant cet attribut doit utiliser le type customis&eacute; <code class="code" id="-r8neit_56">Timestamp</code>.</p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\TimestampColumn;
      use SaboCore\Database\Default\CustomDatatypes\Timestamp;
      use Override;
      #[TimestampColumn(columnName: &quot;joined_at&quot;)]
      protected Timestamp $joinedAt;
      #[Override]
      protected function beforeCreate(mixed $datas = []): self{
          parent::beforeCreate();
          $this-&gt;joinedAt = new Timestamp();
          return $this;
      }
  </div><p> ou </p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\TimestampColumn;
      use SaboCore\Database\Default\CustomDatatypes\Timestamp;
      #[TimestampColumn(columnName: &quot;joined_at&quot;)]
      protected Timestamp $joinedAt = new Timestamp();
  </div></li><li class="list__item" id="-r8neit_42"><p id="-r8neit_57"><code class="code" id="-r8neit_63">JoinedColumn</code> ce type sp&eacute;cial permet de repr&eacute;senter une jointure entre deux tables. Un &eacute;l&eacute;ment portant cet attribut doit &ecirc;tre associ&eacute; au type <code class="code" id="-r8neit_64">SaboList</code> des utilitaires qui contiendra la liste des &eacute;l&eacute;ments associ&eacute;s.</p><div class="code-block" data-lang="php">
      use SaboCore\Database\Default\Attributes\JoinedColumn;
      use SaboCore\Database\Default\CustomDatatypes\JoinedList;
      #[JoinedColumn(
          classModel: BannedUserModel::class,
          joinConfig: [&quot;id&quot; =&gt; &quot;userId&quot;]
      )]
      protected JoinedList $bannedUsers;
  </div><p> - Le param&egrave;tre <code class="code" id="-r8neit_59">classModel</code> repr&eacute;sente la class de table associ&eacute;e - Le param&egrave;tre <code class="code" id="-r8neit_60">joinConfig</code> ce tableau permet de d&eacute;finir les cl&eacute;s de jointures. Il est indic&eacute; par le nom des attributs de la class actuelle pointant sur le nom des attributs de la class li&eacute;e. *Cette structure permet la liaison via de multiples attributs* - Le troisi&egrave;me param&egrave;tre <code class="code" id="-r8neit_61">loadOnGeneration</code> permet de d&eacute;finir si les models li&eacute;s doivent &ecirc;tre charg&eacute;s automatiquement &agrave; la g&eacute;n&eacute;ration du model. *Cel&agrave; permet notamment d'&eacute;viter le chargement infini entre deux models.* </p><aside class="prompt" data-type="note" data-title="" id="-r8neit_62"><p>Dans le cas o&ugrave; le chargement se veut manuel, la cr&eacute;ation d'une nouvelle instance <code class="code" id="-r8neit_65">new JoinedColumn()-&gt;loadContent()</code>.</p></aside></li></ul><aside class="prompt" data-type="note" data-title="" id="-r8neit_37"><p>Pour cr&eacute;er un nouvel attribut il vous faut cr&eacute;er une class qui extends de <code class="code" id="-r8neit_66">SaboCore\Database\Default\Attributes\TableColumn</code> dont les m&eacute;thodes et le constructeur peuvent &ecirc;tre red&eacute;finies au besoin. Se baser sur un type existant est recommand&eacute;.</p></aside></section><section class="chapter"><h2 id="les-conditions-d-affectation" data-toc="les-conditions-d-affectation">Les conditions d'affectation</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_67"><p id="-r8neit_71">Les conditions d'affectation permettent d'ajouter des barri&egrave;res &agrave; passer lors de l'affectation d'une valeur sur un attribut li&eacute; &agrave; une colonne. Ces conditions peuvent &ecirc;tre pos&eacute;es via chaque attribut de description. Elles doivent toutes &ecirc;tre valid&eacute;es afin que l'affection op&egrave;re. &Agrave; l'&eacute;chec d'une condition une exception est lev&eacute;e avec le message d'erreur associ&eacute;.</p></aside><p id="-r8neit_68">Les conditions par d&eacute;faut se situent dans le namespace <code class="code" id="-r8neit_72">SaboCore\Database\Default\Conditions</code>.</p><ul class="list _bullet" id="-r8neit_69"><li class="list__item" id="-r8neit_73"><p id="-r8neit_80"><code class="code" id="-r8neit_81">RegexCond</code> permet d'associer une regex pour valider la donn&eacute;e fournie.</p></li><li class="list__item" id="-r8neit_74"><p id="-r8neit_82"><code class="code" id="-r8neit_83">LenCond</code> permet d'associer une limitation en taille sur une donn&eacute;e de type <code class="code" id="-r8neit_84">chaine</code>.</p></li><li class="list__item" id="-r8neit_75"><p id="-r8neit_85"><code class="code" id="-r8neit_86">JsonValidityCond</code> permet de v&eacute;rifier que la donn&eacute;e est un tableau pour la conversion json.</p></li><li class="list__item" id="-r8neit_76"><p id="-r8neit_87"><code class="code" id="-r8neit_88">FilterCond</code> permet d'appliquer une v&eacute;rification <code class="code" id="-r8neit_89">filter_var</code></p></li><li class="list__item" id="-r8neit_77"><p id="-r8neit_90"><code class="code" id="-r8neit_91">EnumValidity</code> permet de v&eacute;rifier que la donn&eacute;e est accept&eacute;e dans l'&eacute;num&eacute;ration li&eacute;</p></li><li class="list__item" id="-r8neit_78"><p id="-r8neit_92"><code class="code" id="-r8neit_93">DatetimeCond</code> v&eacute;rifie que la chaine fournie est une <code class="code" id="-r8neit_94">Datetime</code> correcte.</p></li><li class="list__item" id="-r8neit_79"><p id="-r8neit_95"><code class="code" id="-r8neit_96">CallableCond</code> permet d'appeler une condition encapsul&eacute;e dans une m&eacute;thode statique</p></li></ul><aside class="prompt" data-type="note" data-title="" id="-r8neit_70"><p>Pour cr&eacute;er une nouvelle condition personnalis&eacute;e, veuillez cr&eacute;er une class impl&eacute;mentant l'interface <code class="code" id="-r8neit_97">SaboCore\Database\Default\Conditions\Cond</code>.</p></aside></section><section class="chapter"><h2 id="les-utilitaires-de-formatage-de-donn-es" data-toc="les-utilitaires-de-formatage-de-donn-es">Les utilitaires de formatage de donn&eacute;es</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_98"><p id="-r8neit_102">Le formatage de donn&eacute;e permet d'ajouter une couche d'abstraction entre le format fourni et r&eacute;cup&eacute;r&eacute;. Les utilitaires de formatage bien qu'ayant la m&ecirc;me structure se distinguent en deux groupes : <span class="emphasis" id="-r8neit_103"><span class="control" id="-r8neit_105">reformer</span></span> groupe qui permet &agrave; partir de la donn&eacute;e stock&eacute;e de formater &agrave; la r&eacute;cup&eacute;ration, <span class="emphasis" id="-r8neit_104"><span class="control" id="-r8neit_106">formater</span></span> formater une donn&eacute;e avant de la stocker dans l'attribut. Ces conditions peuvent &ecirc;tre pos&eacute;es via chaque attribut de description.</p></aside><p id="-r8neit_99">Les 'formater' par d&eacute;faut se trouvent dans le namespace <code class="code" id="-r8neit_107">SaboCore\Database\Default\Formatters</code>.</p><ul class="list _bullet" id="-r8neit_100"><li class="list__item" id="-r8neit_108"><p id="-r8neit_110"><code class="code" id="-r8neit_111">JsonFormatter</code> formate un tableau en chaine json pour le stockage en base de donn&eacute;es.</p></li><li class="list__item" id="-r8neit_109"><p id="-r8neit_112"><code class="code" id="-r8neit_113">JsonReformer</code> reformate une chaine json format&eacute;e en tableau.</p></li></ul><aside class="prompt" data-type="note" data-title="" id="-r8neit_101"><p>Pour cr&eacute;er un nouveau formater, veuillez cr&eacute;er une class impl&eacute;mentant l'interface <code class="code" id="-r8neit_114">SaboCore\Database\Default\Formatters\Formater</code></p></aside></section><section class="chapter"><h2 id="les-types-personnalis-s" data-toc="les-types-personnalis-s">Les types personnalis&eacute;s</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_115"><p id="-r8neit_118">Les types customis&eacute;s mentionn&eacute;s plus haut, sont associ&eacute; &agrave; des types d'attributs particuliers. L'attribut est donc l'&eacute;l&eacute;ment qui d&eacute;fini le type &agrave; utiliser.</p></aside><ul class="list _bullet" id="-r8neit_116"><li class="list__item" id="-r8neit_119"><p id="-r8neit_121"><code class="code" id="-r8neit_122">JoinedList</code> li&eacute; &agrave; <code class="code" id="-r8neit_123">JoinedColumn</code></p></li><li class="list__item" id="-r8neit_120"><p id="-r8neit_124"><code class="code" id="-r8neit_125">Timestamp</code> li&eacute; &agrave; <code class="code" id="-r8neit_126">TimestampColumn</code></p></li></ul><aside class="prompt" data-type="note" data-title="" id="-r8neit_117"><p>Pour cr&eacute;er un type customis&eacute;, il suffit de cr&eacute;er une class, pour pouvoir l'utiliser, il faut &eacute;galement cr&eacute;er un nouvel attribut de description de colonne qui attendra une donn&eacute;e du type de la class cr&eacute;&eacute;e.</p></aside></section><section class="chapter"><h2 id="les-hooks" data-toc="les-hooks">Les hooks</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_127"><p id="-r8neit_131">Les hooks sont des m&eacute;thodes appell&eacute;s &agrave; des moments pr&eacute;cis du cycle de vie d'un model (des &eacute;v&egrave;nements). Red&eacute;finir ces m&eacute;thodes permet d'intercepter et d'effectuer les actions &agrave; l'appel de ces &eacute;v&egrave;nements.</p></aside><aside class="prompt" data-type="warning" data-title="" id="-r8neit_128"><p>Pensez &agrave; appeler les m&eacute;thodes parentes, lors des red&eacute;finitions <code class="code" id="-r8neit_132">parent::beforeCreate();</code></p></aside><p id="-r8neit_129">L'&eacute;num&eacute;ration <code class="code" id="-r8neit_133">SaboCore\Database\System\DatabaseActions</code> liste les hooks impl&eacute;ment&eacute;es par les syst&egrave;mes.</p><ul class="list _bullet" id="-r8neit_130"><li class="list__item" id="-r8neit_134"><p id="-r8neit_138"><code class="code" id="-r8neit_139">[before|after]Create</code> actions pre et post cr&eacute;ation</p></li><li class="list__item" id="-r8neit_135"><p id="-r8neit_140"><code class="code" id="-r8neit_141">[before|after]Update</code> actions pre et post mise &agrave; jour</p></li><li class="list__item" id="-r8neit_136"><p id="-r8neit_142"><code class="code" id="-r8neit_143">[before|after]Delete</code> actions pre et post suppression</p></li><li class="list__item" id="-r8neit_137"><p id="-r8neit_144"><code class="code" id="-r8neit_145">[before|after]Generation</code> actions pre et post g&eacute;n&eacute;ration du model. <span class="emphasis" id="-r8neit_146">L'&eacute;tape de g&eacute;n&eacute;ration consiste &agrave; l'affectation des valeurs de la base de donn&eacute;es et autres actions de cr&eacute;ation du model</span>.</p></li></ul></section><section class="chapter"><h2 id="les-m-thodes-par-d-faut" data-toc="les-m-thodes-par-d-faut">Les m&eacute;thodes par d&eacute;faut</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_147"><p id="-r8neit_152">En plus des hooks certaines m&eacute;thodes utilitaires sont impl&eacute;ment&eacute;es par d&eacute;faut.</p></aside><p id="-r8neit_148"><span class="control" id="-r8neit_153">Cette liste ne contient pas toutes les m&eacute;thodes d&eacute;finies, seulement les plus utiles.</span></p><ul class="list _bullet" id="-r8neit_149"><li class="list__item" id="-r8neit_154"><p id="-r8neit_159"><code class="code" id="-r8neit_160">create</code> enregistre le model</p></li><li class="list__item" id="-r8neit_155"><p id="-r8neit_161"><code class="code" id="-r8neit_162">update</code> met &agrave; jour le model (bas&eacute; sur les &eacute;l&eacute;ments d&eacute;clar&eacute;s comme cl&eacute;s primaires)</p></li><li class="list__item" id="-r8neit_156"><p id="-r8neit_163"><code class="code" id="-r8neit_164">delete</code> supprime le model (bas&eacute; sur les &eacute;l&eacute;ments d&eacute;clar&eacute;s comme cl&eacute;s primaires)</p></li><li class="list__item" id="-r8neit_157"><p id="-r8neit_165"><code class="code" id="-r8neit_166">findOne</code> m&eacute;thode statique permettant de r&eacute;cup&eacute;rer un seul &eacute;l&eacute;ment matchant les conditions</p></li><li class="list__item" id="-r8neit_158"><p id="-r8neit_167"><code class="code" id="-r8neit_168">findAll</code> m&eacute;thode statique permettant de r&eacute;cup&eacute;rer les &eacute;l&eacute;ments matchant les conditions</p></li></ul><aside class="prompt" data-type="note" data-title="" id="-r8neit_150"><p>Les fonctions <code class="code" id="-r8neit_169">findOne</code> et <code class="code" id="-r8neit_170">findAll</code> se basent sur la m&ecirc;me logique de construction de requ&ecirc;te que le <code class="code" id="-r8neit_171">QueryBuilder</code></p></aside><ul class="list _bullet" id="-r8neit_151"><li class="list__item" id="-r8neit_172"><p id="-r8neit_191"><code class="code" id="-r8neit_192">setAttribute</code> met &agrave; jour la valeur d'un attribut en v&eacute;rifiant en amont les conditions associ&eacute;es puis en appliquant les formateurs associ&eacute;s</p></li><li class="list__item" id="-r8neit_173"><p id="-r8neit_193"><code class="code" id="-r8neit_194">getAttribute</code> r&eacute;cup&egrave;re la donn&eacute;e d'un attribut en appliquant les reformers associ&eacute;s</p></li><li class="list__item" id="-r8neit_174"><p id="-r8neit_195"><code class="code" id="-r8neit_196">getAttributeOriginal</code> permet de r&eacute;cup&eacute;rer la valeur originale stock&eacute;e sans reformer</p></li><li class="list__item" id="-r8neit_175"><p id="-r8neit_197"><code class="code" id="-r8neit_198">getColumnsConfig</code> fourni la configuration r&eacute;cup&eacute;r&eacute;e des colonnes.</p></li><li class="list__item" id="-r8neit_176"><p id="-r8neit_199"><code class="code" id="-r8neit_200">getColumnConfig</code> fourni la configuration d'une colonne particuli&egrave;re via le nom de l'attribut de class associ&eacute;</p></li><li class="list__item" id="-r8neit_177"><p id="-r8neit_201"><code class="code" id="-r8neit_202">getJoinedColumnsConfig</code> fourni la configuration des colonnes de jointure</p></li><li class="list__item" id="-r8neit_178"><p id="-r8neit_203"><code class="code" id="-r8neit_204">getTableNameManager</code> fourni une instance de l'attribut <code class="code" id="-r8neit_205">TableName</code> du nom de la table</p></li><li class="list__item" id="-r8neit_179"><p id="-r8neit_206"><code class="code" id="-r8neit_207">getAsArray</code> enregistre les donn&eacute;es de la class dans un tableau indic&eacute; par le nom d'attribut de class</p></li><li class="list__item" id="-r8neit_180"><p id="-r8neit_208"><code class="code" id="-r8neit_210">setAttributesOriginalValues</code> met &agrave; jour le tableau des valeurs originales</p><aside class="prompt" data-type="warning" data-title="" id="-r8neit_209"><p>Ne mets pas &agrave; jour les valeurs dans la class</p></aside></li><li class="list__item" id="-r8neit_181"><p id="-r8neit_211"><code class="code" id="-r8neit_212">lastInsertId</code> fourni le dernier id ins&eacute;r&eacute; (peut &ecirc;tre utile notamment pour l'affectation des cl&eacute;s primaires apr&egrave;s insertion)</p></li><li class="list__item" id="-r8neit_182"><p id="-r8neit_213"><code class="code" id="-r8neit_214">createFromDatabaseLine</code> g&eacute;n&egrave;re un model &agrave; partir d'une ligne de la base de donn&eacute;es <span class="emphasis" id="-r8neit_215">(via fetch)</span></p></li><li class="list__item" id="-r8neit_183"><p id="-r8neit_216"><code class="code" id="-r8neit_217">createFromDatabaseLines</code> g&eacute;n&egrave;re les models &agrave; partir des lignes de la base de donn&eacute;es <span class="emphasis" id="-r8neit_218">(via fetch)</span></p></li><li class="list__item" id="-r8neit_184"><p id="-r8neit_219"><code class="code" id="-r8neit_220">createFromDatabaseLines</code> g&eacute;n&egrave;re les models &agrave; partir des lignes de la base de donn&eacute;es <span class="emphasis" id="-r8neit_221">(via fetch)</span></p></li><li class="list__item" id="-r8neit_185"><p id="-r8neit_222"><code class="code" id="-r8neit_223">newInstanceOfModel</code> g&eacute;n&egrave;re une nouvelle instance du model &agrave; partir de la class fournie</p></li><li class="list__item" id="-r8neit_186"><p id="-r8neit_224"><code class="code" id="-r8neit_225">execQuery</code> ex&eacute;cute une requ&ecirc;te via le constructeur de requ&ecirc;te</p></li><li class="list__item" id="-r8neit_187"><p id="-r8neit_226"><code class="code" id="-r8neit_227">loadJoinedColumns</code> charge les colonnes jointes</p></li><li class="list__item" id="-r8neit_188"><p id="-r8neit_228"><code class="code" id="-r8neit_229">createModelFromLine</code> g&eacute;n&egrave;re un nouveau model &agrave; partir d'une ligne directe (sous forme de tableau) de la base de donn&eacute;es</p></li><li class="list__item" id="-r8neit_189"><p id="-r8neit_230"><code class="code" id="-r8neit_231">buildPrimaryKeysCondOn</code> ajoute les conditions de cl&eacute;s primaires sur un constructeur de requ&ecirc;te</p></li><li class="list__item" id="-r8neit_190"><p id="-r8neit_232"><code class="code" id="-r8neit_233">getDatabaseConfig</code> fournie la configuration sous forme de class <code class="code" id="-r8neit_234">Config</code> de base de donn&eacute;es d&eacute;finie dans l'environnement</p></li></ul></section><section class="chapter"><h2 id="g-n-rer-le-sql-de-cr-ation-d-un-model" data-toc="g-n-rer-le-sql-de-cr-ation-d-un-model">G&eacute;n&eacute;rer le SQL de cr&eacute;ation d'un model</h2><aside class="prompt" data-type="tip" data-title="" id="-r8neit_235"><p id="-r8neit_237">L'utilitaire de g&eacute;n&eacute;ration permet &agrave; partir d'une instance d'un mod&egrave;le, de g&eacute;n&eacute;rer le SQL de cr&eacute;ation de la table</p></aside><div class="code-block" data-lang="php">
&lt;?php
use SaboCore\Database\Default\System\MysqlTableCreator;
echo MysqlTableCreator::getTableCreationFrom(model: new YourModelInstance);
</div></section><div class="last-modified">09 avril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="treatments-classes.html" class="navigation-links__prev">Class de traitement</a><a href="customized-request.html" class="navigation-links__next">Construction de requ&ecirc;tes customis&eacute;es</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>